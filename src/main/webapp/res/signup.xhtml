<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui">

    <h:head>
        <title>Sign Up</title>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"/>
    </h:head>

    <h:body>
        
        <h:outputText styleClass="text-danger" value="#{registrationBean.errMsg}"/>
        <h:form id="signupForm">
            <div class="container mt-5">
                <p:panel header="Sign Up" styleClass="card">

                    <div class="card-body">
                        <div class="form-group">
                            <label for="name">Name:</label>
                            <p:inputText id="name" value="#{registrationBean.user.name}" required="true" styleClass="form-control"/>
                            <h:message for="name" class="text-danger"/>
                        </div>

                        <div class="form-group">
                            <label for="email">Email:</label>
                            <p:inputText id="email" value="#{registrationBean.user.email}" required="true" styleClass="form-control"/>
                            <h:message for="email" class="text-danger"/>
                        </div>

                        <div class="form-group">
                            <label for="password">Password:</label>
                            <p:password id="password" value="#{registrationBean.user.password}" required="true" styleClass="form-control"/>
                        </div>

                        <h:commandLink value="Sign Up" action="#{registrationBean.register}" 
                                        styleClass="btn btn-primary"/>
                        <a href="#" onclick="clearMessages();">Cancel</a>
                    </div>
                </p:panel>
            </div>
        </h:form>

        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.6.0/dist/umd/popper.min.js"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

        <script>
                            function clearMessages() {
                                document.getElementById('signupForm:messages').innerHTML = '';
                            }
        </script>
    </h:body>
</html>
